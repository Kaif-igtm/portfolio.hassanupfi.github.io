"use strict";!function(){if("function"==typeof NodeList.prototype.forEach)return;NodeList.prototype.forEach=Array.prototype.forEach}();var production=!0,iFrameOrigin=document.location.origin,iFrameId="bluesnap-hosted-iframe-",snapToken="",snapToken2="",HintCcn="",HintCvv="",HintExp="",PutRequestFlag=!0,IsExpSelect=!1,findMainDomain=function(){if(window.self!==window.top){var e=document.location.hash.substring(1),t=window.atob(e);return"_"===t.substring(t.length-1,t.length)&&(IsExpSelect=!0,t=t.slice(0,-1)),iFrameId+=t.substring(t.length-3,t.length),t=t.slice(0,-3)}window.location.assign("http://www.bluesnap.com")}();function postThisMessage(e){parent.postMessage(JSON.stringify(e),findMainDomain)}function postMessageJsonErrorObject(e,t,n,a){var r={tagId:e,errorCode:n,errorDescription:a};return t?(r.event="put",r.eventType="error"):r.event="error",r}function isExpirationDateInputBlank(){try{return null==document.querySelector("#month").value||""===document.querySelector("#month").value||null==document.querySelector("#year").value||""===document.querySelector("#year").value}catch(e){logger("getFullExpirationDate Error = "+e)}}function getFullExpirationDate(){try{if(IsExpSelect){var e=document.querySelector("#month").options[document.querySelector("#month").selectedIndex].value;return(e<10?"0":"")+e+"/"+document.querySelector("#year").options[document.querySelector("#year").selectedIndex].value}return document.querySelector("#month").value+"/20"+document.querySelector("#year").value}catch(e){logger("getFullExpirationDate Error = "+e)}}function isElemIdExp(e){return"month"===e||"year"===e?"exp":e}function setupTokenizedServiceHeadersNoTokenAuthentication(e){e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Authorization","anonymous"),e.setRequestHeader("BLUESNAP_VERSION_HEADER","2.0"),e.setRequestHeader("BLUESNAP_ORIGIN_HEADER","WEB SDK 3.0")}function setupTokenizedServiceHeaders(e){setupTokenizedServiceHeadersNoTokenAuthentication(e),e.setRequestHeader("Token-Authentication",snapToken)}function putCred(e){if(PutRequestFlag){var t;PutRequestFlag=!1;var n=isElemIdExp((t=IsExpSelect?document.querySelector("select"):document.querySelector("input")).id),a=new XMLHttpRequest;switch(a.onreadystatechange=function(){4===a.readyState&&(PutRequestFlag=!0),4===a.readyState&&200===a.status?postThisMessage("exp"===n?{tagId:n,event:"put",eventType:"success",param:getFullExpirationDate()}:{tagId:n,event:"put",eventType:"success",param:a.responseText}):4!==a.readyState||400!==a.status&&500!==a.status&&404!==a.status&&403!==a.status||putCredErrorHandling(a,t,n,!0)},a.open("put",e,!0),setupTokenizedServiceHeadersNoTokenAuthentication(a),iFrameId){case"bluesnap-hosted-iframe-ccn":var r=t.value;r=r.replace(/[ -]/g,""),a.send(JSON.stringify({ccNumber:r}));break;case"bluesnap-hosted-iframe-cvv":a.send(JSON.stringify({cvv:t.value}));break;case"bluesnap-hosted-iframe-exp":a.send(JSON.stringify({expDate:getFullExpirationDate()}))}}}function putCredErrorHandling(t,e,n,a){logger("Received error on putCred request. Http status= "+t.statusText+", Http text= "+t.statusText),changeClass(e,"invalid","valid");var r=postMessageJsonErrorObject(n,a,""+t.status,"Internal server error please try again later");if(400===t.status&&""!==t.response)try{var s=JSON.parse(t.response).message[0];r.errorCode=s.code,r.errorDescription=s.description,14040===s.code&&(r.errorCode="400",r.errorDescription="Session expired please refresh page to continue")}catch(e){""!==t.responseText&&(r.errorDescription=t.responseText)}postThisMessage(r)}function getCardData(e){var t=document.querySelector("input"),n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&200===n.status?postThisMessage({tagId:t.id,event:"type",cardData:n.responseText}):4!==n.readyState||400!==n.status&&500!==n.status&&404!==n.status&&403!==n.status||(postThisMessage({tagId:t.id,event:"type",cardType:cardTypeValidation(t.value)}),putCredErrorHandling(n,t,t.id,!1))},n.open("put",e,!0),setupTokenizedServiceHeadersNoTokenAuthentication(n),n.send(JSON.stringify({ccNumber:t.value.replace(/[ -]/g,"")}))}function errorHandling(e){switch(e){case"ccn":return"001";case"cvv":return"002";case"exp":return"003";default:return e}}function errorDescriptionHandling(e){switch(e){case"ccn":return"Please enter a valid credit card number";case"cvv":return"Please enter the CVV/CVC of your card";case"exp":return"Please enter your credit card's expiration date"}}function luhnValidation(e){e=e.replace(/[ -]/g,"");var t=!1;try{for(var n=e.split(""),a=0;a<n.length;a++)n[a]=parseInt(n[a],10);var r=0,s=!1;for(a=n.length-1;0<=a;a--)s&&(n[a]*=2,9<n[a]&&(n[a]-=9)),r+=n[a],s=!s;t=r%10==0}catch(e){t=!1}finally{return t}}function cardTypeValidation(e){e=e.replace(/[ -]/g,"");var t={Elo:/^(40117[8-9]|431274|438935|451416|457393|45763[1-2]|504175|506699|5067[0-6][0-9]|50677[0-8]|509[0-9][0-9][0-9]|636368|636369|636297|627780).*/,HiperCard:/^(606282|637095).*/,Cencosud:/^603493.*/,Naranja:/^589562.*/,TarjetaShopping:/^(603488|(27995[0-9])).*/,ArgenCard:/^(501105).*/,Cabal:/^((627170)|(589657)|(603522)|(604((20[1-9])|(2[1-9][0-9])|(3[0-9]{2})|(400)))).*/,Solo:/^(6334|6767).*/,Visa:/^4.+/,MasterCard:/^(5(([1-5])|(0[1-5]))|2(([2-6])|(7(1|20)))|6((0(0[2-9]|1[2-9]|2[6-9]|[3-5]))|(2((1(0|2|3|[5-9]))|20|7[0-9]|80))|(60|3(0|[3-9]))|(4[0-2]|[6-8]))).+/,AmericanExpress:/^3(24|4[0-9]|7|56904|379(41|12|13)).+/,Discover:/^(3[8-9]|(6((01(1|300))|4[4-9]|5))).+/,MaestroUK:/^6759.+|560000227571480302|5200000000000049|560000841211092515|6331101234567892|560000000000000193|560000000000000193|6331101250353227|6331100610194313|6331100266977839|560000511607577094/,DinersClub:/^(3(0([0-5]|9|55)|6)).*/,JCB:/^(2131|1800|35).*/,ChinaUnionPay:/(^62(([4-6]|8)[0-9]{13,16}|2[2-9][0-9]{12,15}))$/,CarteBleue:/^((3(6[1-4]|77451))|(4(059(?!34)|150|201|561|562|533|556|97))|(5(0[1-4]|13|30066|341[0-1]|587[0-2]|6|8))|(6(27244|390|75[1-6]|799999998))).*/};for(var n in t)if(e.match(t[n]))return n}function expValidation(){var e,t,n=new Date,a=n.getUTCMonth()+1,r=n.getUTCFullYear();return t=IsExpSelect?(e=document.querySelector("#year"),e=parseInt(e.options[e.selectedIndex].value),t=document.querySelector("#month"),parseInt(t.options[t.selectedIndex].value)):(e=parseInt(20+document.querySelector("#year").value),parseInt(document.querySelector("#month").value)),!isNaN(t)&&!isNaN(e)&&(r<e&&e<2036&&0<t&&t<13||e===r&&a<=t&&t<13)}function checkIfWhiteListed(e){var t,n=["#ccn","#ccn:focus","#ccn.valid","#ccn.invalid","#cvv","#cvv:focus","#cvv.valid","#cvv.invalid","#year","#year:focus","#year.valid","#year.invalid","#month","#month:focus","#month.valid","#month.invalid","input","::placeholder","::-webkit-input-placeholder","::-moz-placeholder",":-ms-input-placeholder",":-moz-placeholder",":focus",".valid",".invalid",".valid:focus",".invalid:focus","span","select","option","select#month","select#year","#month::placeholder","#month::-webkit-input-placeholder","#month::-moz-placeholder","#month:-ms-input-placeholder","#month:-moz-placeholder","#year::placeholder","#year::-webkit-input-placeholder","#year::-moz-placeholder","#year:-ms-input-placeholder","#year:-moz-placeholder",":focus::placeholder",":focus::-webkit-input-placeholder",":focus::-moz-placeholder",":focus:-ms-input-placeholder",":focus:-moz-placeholder","#ccn:focus::placeholder","#ccn:focus::-webkit-input-placeholder","#ccn:focus::-moz-placeholder","#ccn:focus:-ms-input-placeholder","#ccn:focus:-moz-placeholder","#cvv:focus::placeholder","#cvv:focus::-webkit-input-placeholder","#cvv:focus::-moz-placeholder","#cvv:focus:-ms-input-placeholder","#cvv:focus:-moz-placeholder","#month:focus::placeholder","#month:focus::-webkit-input-placeholder","#month:focus::-moz-placeholder","#month:focus:-ms-input-placeholder","#month:focus:-moz-placeholder","#year:focus::placeholder","#year:focus::-webkit-input-placeholder","#year:focus::-moz-placeholder","#year:focus:-ms-input-placeholder","#year:focus:-moz-placeholder"],a="#"+(t=IsExpSelect?document.querySelectorAll("select"):document.querySelectorAll("input"))[0].id;return(t.length<2?e===a:e===a||e==="#"+t[1].id)||-1<n.indexOf(e)||-1<n.indexOf(e.substring(4,e.length))&&(t.length<2?e.substring(0,4)===a:e.substring(0,4)===a||e.substring(0,4)==="#"+t[1].id)}function populateStyling(e){var t="";for(var n in e)if(checkIfWhiteListed(n)){for(var a in t+=n+" { ",e[n])t+=a+": "+e[n][a]+"; ";t+=" } "}return t}function addStyling(e){var t=document.querySelector("head"),n=document.createElement("style"),a=populateStyling(e);n.type="text/css",n.styleSheet?n.styleSheet.cssText=a:n.appendChild(document.createTextNode(a)),t.appendChild(n)}function removeClass(e,t){var n,a=e.classList,r=!1;for(n=0;n<a.length;n++)if(a[n]===t){r=!0;break}r&&e.classList.remove(t)}function changeClass(e,t,n){removeClass(e,n),e.classList.add(t)}function handleEvents(e,t){switch(isElemIdExp(e.id)){case"ccn":handleCcn(e,t);break;case"cvv":handleCvv(e,t);break;case"exp":handleExp(e,t);break;default:logger("handleEvents function error")}}function handleCcExp(e){null!=e.value&&""!==e.value&&7===e.value.length&&(postThisMessage({tagId:e.id,event:e.id,value:e.value}),e.value="")}function handleCcn(e,t){null!=e.value&&""!==e.value&&11<e.value.length&&luhnValidation(e.value)?(changeClass(e,"valid","invalid"),postThisMessage({tagId:e.id,event:"valid"}),getCardData(iFrameOrigin+"/services/2/payment-fields-tokens/"+snapToken),t&&putCred(iFrameOrigin+"/services/2/payment-fields-tokens/"+snapToken)):(changeClass(e,"invalid","valid"),postThisMessage(postMessageJsonErrorObject(e.id,t,errorHandling(e.id),errorDescriptionHandling(e.id))))}function handleCvv(e,t){cvvIsValid(e.value,e.getAttribute("maxlength"))?(changeClass(e,"valid","invalid"),postThisMessage({tagId:e.id,event:"valid"}),t&&putCred(iFrameOrigin+"/services/2/payment-fields-tokens/"+snapToken)):(changeClass(e,"invalid","valid"),postThisMessage(postMessageJsonErrorObject(e.id,t,errorHandling(e.id),errorDescriptionHandling(e.id))))}function handleExp(e,t){var n=isElemIdExp(e.id);expValidation()?(checkClassForEXP(e,"valid","invalid"),postThisMessage({tagId:n,event:"valid"}),t&&putCred(iFrameOrigin+"/services/2/payment-fields-tokens/"+snapToken)):!t&&isExpirationDateInputBlank()&&!isNaN(e.value)||(checkClassForEXP(e,"invalid","valid"),postThisMessage(postMessageJsonErrorObject(n,t,errorHandling(n),errorDescriptionHandling(n))))}function cvvIsValid(e,t){return!(isNaN(e)||e.length<3||e.length>t||null==e.match(/^[0-9]+$/))}function checkClassForEXP(e,t,n){IsExpSelect||"exp"===isElemIdExp(e.id)?(IsExpSelect?document.querySelectorAll("select"):document.querySelectorAll("input")).forEach(function(e){changeClass(e,t,n)}):changeClass(e,t,n)}function displayMessage(e){var t,n=isElemIdExp((t=IsExpSelect?document.querySelector("select"):document.querySelector("input")).id),a="exp"===n?getFullExpirationDate():t.value;if(e.origin===findMainDomain){var r="";if(e.data)try{r=JSON.parse(e.data)}catch(e){logger("JSON parse error, "+e)}switch(r.event){case"implementation":logger("Received implementation message"),void 0!==r.tokenAndStyle.style&&addStyling(r.tokenAndStyle.style);var s=67<(snapToken=r.tokenAndStyle.token).length&&/^[a-zA-Z0-9_-]+[\.][a-zA-Z0-9_-]+[\.][a-zA-Z0-9_-]+[\.](_|_1|_2)$/.test(snapToken);snapToken2=(s?snapToken.split(".")[2]:snapToken).replaceAll("-","").substring(0,32),HintCcn=""+r.tokenAndStyle.ccnPlaceHolder,HintCvv=""+r.tokenAndStyle.cvvPlaceHolder,HintExp=""+r.tokenAndStyle.expPlaceHolder,"ccn"===n&&(t.placeholder=HintCcn),"cvv"===n&&(t.placeholder=HintCvv),"exp"===n&&(document.querySelector("#month").placeholder=HintExp,IsExpSelect||(document.querySelector("#exp-span").style.visibility="hidden"));break;case"put":logger("Received put message"),null==a||""===a?(checkClassForEXP(t,"invalid","valid"),postThisMessage(postMessageJsonErrorObject(n,!0,errorHandling(n),errorDescriptionHandling(n)))):handleEvents(t,!0);break;case"cc-exp":var o=r.value.split("/");document.querySelector("#month").value=o[0],IsExpSelect||(document.querySelector("#exp-span").style.visibility="visible"),document.querySelector("#year").value=IsExpSelect?o[1]:o[1].substr(2,2);break;case"createJwt":logger("Received createJwt message"),sendCreateJwtRequest(snapToken);break;case"updateJwt":logger("Received updateJwt message"),sendCreateJwtRequest(snapToken,"updateJwt");break;case"authenticateWith3DS":logger("Received authenticateWith3DS message"),sendAuthenticateWith3DSRequest(snapToken,r.threeDSecureFields,r.jwt);break;case"processAuthenticationResult":logger("Received processAuthenticationResult message"),processAuthenticationResult(snapToken,r.jwt,r.resultJwt,r.data);break;case"updateBSToken":if(snapToken=r.token,"ccn"===isElemIdExp(document.querySelector("input").id)){var i=new XMLHttpRequest;i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&logger("snapToken2 status: "+i.status)},i.open("PUT",iFrameOrigin+"/services/2/payment-fields-tokens/"+snapToken,!0),setupTokenizedServiceHeadersNoTokenAuthentication(i),i.send(JSON.stringify({fraudSessionId:snapToken2}))}break;default:logger("no event was registered")}}}function setAttributesWithAddition(e,t){IsExpSelect||(t.type="tel",t.autocorrect="off",t.autocapitalize="none",t.spellcheck="false"),setAttributesNoAddtion(e,t)}function setAttributesNoAddtion(e,t){for(var n in t)e.setAttribute(n,t[n])}var lastCcnLengthCount=0;function onCcnEvent(e){var t=e.value;if(t.replace(/\s/g,"").length<=lastCcnLengthCount&&" "===t.slice(-1))e.value=t.slice(0,-1);else if(4<t.length&&t.replace(/\s/g,"").length>lastCcnLengthCount){var n=[];if("AmericanExpress"!==cardTypeValidation(t=t.replace(/\s/g,"")))n=t.match(/.{1,4}/g);else for(var a=0;0<t.length;a++)n[a]=t.slice(0,4+a),t=t.substring(4+a);for(var r in t="",n)r<n.length-1?t+=n[r]+" ":t+=n[r];e.value=t}lastCcnLengthCount=e.value.replace(/\s/g,"").length}function expSelectOptionCreator(){for(var e=document.createElement("select"),t=document.createElement("select"),n=new Date,a=0;a<13;a++){var r=document.createElement("option"),s=0<a&&a<10?"0"+a:a;r.value=a,r.innerHTML=0!==a?s:"Month",e.appendChild(r)}for(var o=n.getFullYear()-1;o<n.getFullYear()+20;o++){var i=document.createElement("option");i.value=o,i.innerHTML=o!==n.getFullYear()-1?o:"Year",t.appendChild(i)}setAttributesWithAddition(e,{"data-bluesnap-name":"month",name:"month",id:"month"}),setAttributesWithAddition(t,{"data-bluesnap-name":"year",name:"year",id:"year"}),document.body.appendChild(e),document.body.appendChild(t)}function inputTags4AutoComplete(e){var t=document.createElement("input");setAttributesNoAddtion(t,{maxlength:"7","data-bluesnap-name":e,name:e,id:e,autocomplete:e,tabindex:"-1"}),t.style.zIndex="1",t.style.opacity="0 !important",t.style.color="transparent !important",t.style.backgroundColor="transparent !important",document.body.appendChild(t)}function tags(e){if("bluesnap-hosted-iframe-exp"!==e)var t=document.createElement("input");switch(e){case"bluesnap-hosted-iframe-ccn":setAttributesWithAddition(t,{"data-bluesnap-name":"number",name:"credit-card-number",id:"ccn",maxlength:"23",placeholder:HintCcn,autocomplete:"cc-number",onkeyup:"onCcnEvent(this)"}),t.style.zIndex="99",document.body.appendChild(t),inputTags4AutoComplete("cc-exp");break;case"bluesnap-hosted-iframe-cvv":setAttributesWithAddition(t,{"data-bluesnap-name":"cvv",name:"cvv",id:"cvv",maxlength:"4",placeholder:HintCvv,autocomplete:"cc-csc"}),document.body.appendChild(t);break;case"bluesnap-hosted-iframe-exp":if(IsExpSelect)expSelectOptionCreator();else{var n=document.createElement("input"),a=document.createElement("span");a.setAttribute("id","exp-span"),a.textContent="/";var r=document.createElement("input");setAttributesWithAddition(n,{maxlength:"2","data-bluesnap-name":"month",name:"month",id:"month",placeholder:HintExp.substr(0,2),autocomplete:"cc-exp-month"}),setAttributesWithAddition(r,{maxlength:"2","data-bluesnap-name":"year",name:"year",id:"year",placeholder:HintExp.substr(3,2),autocomplete:"cc-exp-year"}),document.body.appendChild(n),document.body.appendChild(a),document.body.appendChild(r)}break;default:logger("no tag was registered")}}function sendCreateJwtRequest(e,r){logger("Sending POST request to get jwt");var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE)if(200===s.status){logger("Jwt returned from server");var e=JSON.parse(s.response);logger("Posting cardinalSetup message to parent");var t={jwt:e.jwt,event:r||"cardinalSetup"};null!==e.threeDSecureReferenceId&&void 0!==e.threeDSecureReferenceId&&""!==e.threeDSecureReferenceId&&(t.threeDSecureReferenceId=e.threeDSecureReferenceId),postThisMessage(t)}else{logger("Received error on POST request to get jwt. Http status= "+s.statusText+", Http text= "+s.statusText);var n=postMessageJsonErrorObject(iFrameId.slice(-3),!1,""+s.status,"Internal server error please try again later");try{var a=JSON.parse(s.response).message[0];n.errorCode=a.code,n.errorDescription=a.description}catch(e){""!==s.responseText&&(n.errorDescription=s.responseText)}postThisMessage(n)}},s.open("POST",iFrameOrigin+"/services/2/tokenized-services/3ds-jwt",!0),setupTokenizedServiceHeaders(s),s.send()}function sendAuthenticateWith3DSRequest(e,t,n){logger("Sending PUT request to authenticate with 3DS");var r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)if(200===r.status){logger("Response received from server for 3DS authentication");var e=r.response;if(logger("Response = "+e),"undefined"!==e&&null!==e){var t=JSON.parse(e);logger("Posting cardinalContinue message to parent"),postThisMessage({event:"cardinalContinue",enrollmentData:t})}}else{logger("Received error on PUT request to authenticateWith3DS. Http status= "+r.status+", Http text= "+r.statusText);var n=postMessageJsonErrorObject(iFrameId.slice(-3),!0,""+r.status,"Internal server error please try again later");try{var a=JSON.parse(r.response).message[0];n.errorCode=a.code,n.errorDescription=a.description}catch(e){""!==r.responseText&&(n.errorDescription=r.responseText)}postThisMessage(n)}},r.open("PUT",iFrameOrigin+"/services/2/payment-fields-tokens/"+e,!0),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Authorization","anonymous");var a=t;a.jwt=n,r.send(JSON.stringify(a))}function processAuthenticationResult(e,t,n,a){logger("Sending POST request to process authentication result");var r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE)if(200===r.status){logger("Response received from server for 3DS authentication result"),logger("Response = "+r.response),postThisMessage({event:"authenticationResult",authResult:JSON.parse(r.response).authResult})}else{logger("Received error on POST request to process authentication result. Http status= "+r.statusText+", Http text= "+r.statusText);var t=postMessageJsonErrorObject(iFrameId.slice(-3),!1,""+r.status,"Internal server error please try again later");try{var e=JSON.parse(r.response).message[0];t.errorCode=e.code,t.errorDescription=e.description}catch(e){""!==r.responseText&&(t.errorDescription=r.responseText)}postThisMessage(t)}};var s={jwt:t,resultJwt:n};null==n&&(s.error=JSON.stringify(a)),r.open("POST",iFrameOrigin+"/services/2/tokenized-services/3ds-process-result",!0),setupTokenizedServiceHeaders(r),r.send(JSON.stringify(s))}function logger(e){!1===production&&console.log("BS.Internal["+iFrameId.slice(-3)+"]: "+e)}!function(){var e,t,n;e=window,t="message",n=displayMessage,e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n,logger("Posting implementation message to parent"),postThisMessage({tagId:iFrameId.slice(-3),event:"implementation"}),tags(iFrameId),document.querySelectorAll("input").forEach(function(n){var a=isElemIdExp(n.id);"cc-exp"==a?n.oninput=function(){handleCcExp(n)}:(window.addEventListener("focus",function(){postThisMessage({tagId:a,event:"focus"}),"exp"!==a||IsExpSelect||(document.querySelector("#exp-span").style.visibility="visible")}),window.addEventListener("blur",function(){if(postThisMessage({tagId:a,event:"blur"}),null==n.value||""===n.value){if("exp"===a){var e=document.querySelector("#year"),t=document.querySelector("#month");!IsExpSelect&&(null===t.value&&null===e.value||""===t.value&&""===e.value)&&(document.querySelector("#exp-span").style.visibility="hidden"),removeClass(n,"valid")}else changeClass(n,"invalid","valid");postThisMessage(postMessageJsonErrorObject(a,!1,errorHandling(a),errorDescriptionHandling(a)))}else handleEvents(n,!1)}),"exp"===a&&(IsExpSelect||(n.onfocus=function(){if("year"===this.id&&(null===this.value||""===this.value)){var e=document.querySelector("#month");null!==e.value&&""!==e.value||e.focus()}},n.oninput=function(){var e=document.querySelector("#month"),t=document.querySelector("#year");navigator.userAgent.match(/Trident/g)||navigator.userAgent.match(/MSIE/g)||(e.placeholder=null!==e.value&&""!==e.value||null!==t.value&&""!==t.value?"":HintExp)}),n.onkeyup=function(e){var t=e.srcElement||e.target,n=parseInt(t.attributes.maxlength.value,10),a=t.value.length;if(n<=a){for(var r=t;(r=r.nextElementSibling)&&null!=r;)if("input"===r.tagName.toLowerCase()){37!==e.keyCode&&39!==e.keyCode&&16!==e.keyCode&&r.focus();break}}else if(0===a)for(var s=t;(s=s.previousElementSibling)&&null!=s;)if("input"===s.tagName.toLowerCase()){(s.value.length<2||8===e.keyCode||37===e.keyCode)&&s.focus();break}}))})}();